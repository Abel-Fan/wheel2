<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>杨登辉</title>
    <script src="js/touch.js"></script>
    <script src="js/zepto.min.js"></script>
</head>
<style>
    *{box-sizing: border-box}
    body{
        margin:0;padding:0;

    }
    html,body{
        width:100%;height:100%;
    }
    .wheel{
        width:100%;height:400px;
        box-sizing: border-box;
        border:1px solid #000;
        overflow: hidden;
    }
    .box{
        width:300%;height:100%;
    }
    a{
        display: block;width:33.33%;height:100%;
        float:left;
    }
</style>
<body>
<div class="wheel">
    <div class="box">
        <a href="javascript:;" style="background:orangered">1</a>
        <a href="javascript:;"  style="background:greenyellow">2</a>
        <a href="javascript:;"  style="background:blueviolet">3</a>
    </div>
</div>
</body>
<script>
    $(function(){
        var lefts;
        var num=0;
        var width = $(window).width();
        $(".box").mousedown(function(e){
            e.preventDefault();
        });
        $(".box").mousemove(function(e){
            e.preventDefault();
        });

        touch.on("body","dragstart",".box",function(e){
            $(".box").css({
                transition:"none"
            });
            lefts = parseInt($(".box").css("margin-left")) ? parseInt($(".box").css("margin-left")):0;
        });
        touch.on("body","drag",".box",function(e){
            $(".box").css({
                marginLeft: lefts +e.x
            })
        });

        touch.on("body","dragend",".box",function(e){
            if(Math.abs(e.x)>100){
                if(e.direction=="left"){
                    num++;
                    if(num==3){
                        num=2;
                    }
                }else if(e.direction=="right"){
                    num--;
                    if(num==-1){
                        num=0;
                    }
                }
            }else{

            }
            $(".box").css({
                marginLeft:-num*width,
                transition:"margin .3s ease"
            })
        })
    })
</script>
</html>